<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>注册</title>
    <style type="text/css">
        div{
            margin: auto;
        }
    </style>
    <script type="text/javascript">
        function check() {
            var username = document.getElementById("username").value;
            var req = new XMLHttpRequest();
            req.onreadystatechange = function () {
                if(req.readyState == 4 && req.status == 200){
                    if(req.responseText == "true"){
                        document.getElementById("msg").innerText = "该用户已存在!";
                    }
                }
            };
            req.open("POST","/BookManger/servlet/customerServlet",true);
            req.setRequestHeader("Content-type","application/x-www-form-urlencoded");
            req.send("method=check&" + "username=" + username);
        }
    </script>
</head>
<body>
    <p id="msg"></p>
    <div>
        <form action="/BookManger/servlet/customerServlet?method=register" method="post">
            用户名: <input id="username" type="text" name="username" onchange="check()"/><br />
            密码: <input type="password" name="password" /><br />
            备注: <input type="text" name="message" /><br />
            <input type="submit" value="注册" />
        </form>
    </div>
</body>
</html>